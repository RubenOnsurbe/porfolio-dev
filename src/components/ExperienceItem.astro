---
export interface Props {
    title: string;
    description: string | (string | { title: string; items: string[] })[];
    description2?: string;
    link?: string;
    carta?: string;
    date: string;
}

const { title, description, description2, link, date, carta } = Astro.props;
const isArray = Array.isArray(description);
---

<div
    class="group relative p-6 rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 hover:from-cyan-500/10 hover:to-violet-500/10 transition-all duration-300 hover:border-cyan-400/30 hover:shadow-xl hover:shadow-cyan-500/20 animate-fade-in"
>
    <!-- Fecha -->
    <div class="mb-4">
        <span
            class="inline-block px-3 py-1 rounded-full bg-gradient-to-r from-cyan-500/20 to-violet-500/20 border border-cyan-400/30 text-xs font-semibold text-cyan-300 uppercase tracking-wider"
        >
            {date}
        </span>
    </div>

    <!-- Título -->
    <h3
        class="text-xl font-bold bg-gradient-to-r from-cyan-300 via-white to-violet-300 bg-clip-text text-transparent mb-4"
    >
        {title}
    </h3>

    <!-- Descripción -->
    {
        isArray ? (
            <ul class="mb-6 text-sm font-normal text-white/80 space-y-4">
                {(
                    description as (
                        | string
                        | { title: string; items: string[] }
                    )[]
                ).map((item) =>
                    typeof item === "string" ? (
                        <p class="leading-relaxed">{item}</p>
                    ) : (
                        <div>
                            <p class="font-semibold text-white/95 mb-3 text-base">
                                {item.title}
                            </p>
                            <ul class="list-none space-y-2 ml-2 border-l-2 border-cyan-400/30 pl-4">
                                {item.items.map((subitem) => (
                                    <li class="flex items-start gap-3">
                                        <span class="text-cyan-400 font-bold text-lg leading-none mt-0.5">
                                            →
                                        </span>
                                        <span class="text-white/80">
                                            {subitem}
                                        </span>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    ),
                )}
            </ul>
        ) : (
            <p class="mb-6 text-sm font-normal text-white/80 leading-relaxed">
                {description}
            </p>
        )
    }

    {
        description2 && (
            <p class="mb-6 text-sm font-normal text-white/80 leading-relaxed">
                {description2}
            </p>
        )
    }

    <!-- Botones de acción -->
    <div class="flex gap-3 flex-wrap">
        {
            link && (
                <a
                    href={link}
                    target="_blank"
                    rel="noopener"
                    class="inline-flex items-center gap-2 px-4 py-2 text-xs font-semibold rounded-lg bg-gradient-to-r from-cyan-500/20 to-cyan-500/10 hover:from-cyan-500/40 hover:to-cyan-500/20 border border-cyan-400/50 hover:border-cyan-300 text-cyan-300 hover:text-cyan-200 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/30 hover:scale-105"
                >
                    <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                        />
                    </svg>
                    Visitar
                </a>
            )
        }

        {
            carta && (
                <a
                    href={carta}
                    target="_blank"
                    rel="noopener"
                    class="inline-flex items-center gap-2 px-4 py-2 text-xs font-semibold rounded-lg bg-gradient-to-r from-violet-500/20 to-violet-500/10 hover:from-violet-500/40 hover:to-violet-500/20 border border-violet-400/50 hover:border-violet-300 text-violet-300 hover:text-violet-200 transition-all duration-300 hover:shadow-lg hover:shadow-violet-500/30 hover:scale-105"
                >
                    <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                        />
                    </svg>
                    Carta
                </a>
            )
        }
    </div>
</div>
